<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js动画入门</title>
    <style>
        .box {
            position: absolute;
            left: 0;
            top: 150px;
            width: 100px;
            height: 100px;
            background-color: pink;
            line-height: 100px;
            text-align: center;
        }
        #box2 {
            position: absolute;
            left: 0;
            top: 300px;
            width: 100px;
            height: 100px;
            background-color: pink;
            line-height: 100px;
            text-align: center;
        }
        .play {
            margin-bottom:20px;
            margin-left: 20px;
        }
    </style>
</head>
<body>
<br>
<button class="play">开始赛跑</button>
<button class="restart">重置</button>
<div class="box">正常</div>
<div id="box2">缓动</div>

<script>
    function animate(obj,target){//这里obj是指传进来需要移动的元素，target是指要移动到的位置
        let timer = setInterval(function(){
            if(obj.offsetLeft >= target) {
                // 停止动画 本质是停止定时器
                clearInterval(timer);
            }else{
                obj.style.left = (obj.offsetLeft + 20) + 'px';
            }
        },30);
    }
    let box = document.querySelector('.box');


    function run_slowly_animate(obj,target){
        var left = 0;
        let timer1 = setInterval(function () {
            left = Math.ceil(left + (target - obj.offsetLeft)/10);
            if(obj.offsetLeft >= target){
                clearInterval(timer1);
            }else{
                obj.style.left = left + 'px';
            }
        },30)
    }
    let box2 = document.querySelector('#box2');


    let play_btn = document.querySelector('.play');
    let restart_btn = document.querySelector('.restart');

    play_btn.addEventListener('click',function () {
        animate(box,400);
        run_slowly_animate(box2,400);
    })
    restart_btn.addEventListener('click',function(){
        box.style.left = "0px";
        box2.style.left = "0px";
    })
</script>
</body>
</html>